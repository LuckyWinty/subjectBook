**ETag**

ETag：是实体标签\(Entity Tag\)的缩写。ETag一般不以明文形式相应给客户端。在资源的各个生命周期中，它都具有不

同的值，用于标识出资源的状态。当资源发生变更时，如果其头信息中一个或者多个发生变化，或者消息实体发生变化

，那么ETag也随之发生变化。

ETag值的变更说明资源状态已经被修改。往往可以通过时间戳就可以便宜的得到ETag头信息。在服务端中如果发回给

消费者的相应从一开始起就由ETag控制，那么可以确保更细粒度的ETag升级完全由服务来进行控制。服务计算ETag值，

并在相应客户端请求时将它返回给客户端。

**计算ETag值**

在HTTP1.1协议中并没有规范如何计算ETag。ETag值可以是唯一标识资源的任何东西，如持久化存储中的某个资源关联

的版本、一个或者多个文件属性，实体头信息和校验值、\(CheckSum\)，也可以计算实体信息的散列值。有时候，为了计

算一个ETag值可能有比较大的代价，此时可以采用生成唯一值等方式\(如常见的GUID\)。无论怎样，服务都应该尽可能的

将ETag值返回给客户端。

